var quiz = [
    {
        question : "Which built-in method adds one or more elements to the end of an array and returns the new length of the array?",
        option : [
                {
                    ans: "last()",
                    correct: false
                },
                {
                    ans: "put()",
                    correct: false
                },
                {
                    ans: "push()",
                    correct: true
                },
                {
                    ans: "None of the above",
                    correct: false
                }
        ]
    },
    {
        question : "Which of the following function of Number object forces a number to display in exponential notation?",
        option : [
                {
                    ans: "toExponential()",
                    correct: false
                },
                {
                    ans: "toPrecision()",
                    correct: true
                },
                {
                    ans: "toLocalString()",
                    correct: false
                },
                {
                    ans: "toFixed()",
                    correct: false
                }
        ]
    },
    {
        question : "Which of the following function of String object returns the character at the specified index?",
        option : [
                {
                    ans: "charAt()",
                    correct: true
                },
                {
                    ans: "charCodeAt()",
                    correct: false
                },
                {
                    ans: "concat()",
                    correct: false
                },
                {
                    ans: "indexOf()",
                    correct: false
                }
        ]
    },
    {
        question : "Which of the following is an advantage of using JavaScript?",
        option : [
                {
                    ans: "Less server interaction",
                    correct: false
                },
                {
                    ans: "Immediate feedback to the visitors",
                    correct: false
                },
                {
                    ans: "Increased interactivity",
                    correct: false
                },
                {
                    ans: "All of the above",
                    correct: true
                }
        ]
    },
    {
        question : "Which of the following is a valid type of function javascript supports?",
        option : [
                {
                    ans: "named function",
                    correct: false
                },
                {
                    ans: "anonymous function",
                    correct: false
                },
                {
                    ans: "Both of the above",
                    correct: true
                },
                {
                    ans: "None of the above",
                    correct: false
                }
        ]
    },
    {
        question : "Which of the following type of variable is visible only within a function where it is defined?",
        option : [
                {
                    ans: "global variable",
                    correct: false
                },
                {
                    ans: "local variable",
                    correct: true
                },
                {
                    ans: "Both of the above",
                    correct: false
                },
                {
                    ans: "None of the above",
                    correct: false
                }
        ]
    },
    {
        question : "Which built-in method returns the calling string value converted to upper case?",
        option : [
                {
                    ans: "toUpperCase()",
                    correct: true
                },
                {
                    ans: "toUpper()",
                    correct: false
                },
                {
                    ans: "changeCase(case)",
                    correct: false
                },
                {
                    ans: "None of the above",
                    correct: false
                }
        ]
    },
    {
        question : "Which of the following is true about variable naming conventions in JavaScript?",
        option : [
                {
                    ans: "JavaScript variable names must begin with a letter or the underscore character.",
                    correct: false
                },
                {
                    ans: "JavaScript variable names are case sensitive",
                    correct: false
                },
                {
                    ans: "Both of the above",
                    correct: true
                },
                {
                    ans: "None of the above",
                    correct: false
                }
        ]
    },
    {
        question : "Which of the following function of Number object returns the number's value?",
        option : [
                {
                    ans: "toString()",
                    correct: false
                },
                {
                    ans: "valueOf()",
                    correct: true
                },
                {
                    ans: "toLocaleString()",
                    correct: false
                },
                {
                    ans: "toPrecision()",
                    correct: false
                }
        ]
    },
    {
        question : "Which built-in method sorts the elements of an array?",
        option : [
                {
                    ans: "changeOrder(order)",
                    correct: false
                },
                {
                    ans: "order()",
                    correct: false
                },
                {
                    ans: "sort()",
                    correct: true
                },
                {
                    ans: "None of the above",
                    correct: false
                }
        ]
    },
    {
        question : "Which built-in method calls a function for each element in the array?",
        option : [
                {
                    ans: "while()",
                    correct: false
                },
                {
                    ans: "loop()",
                    correct: false
                },
                {
                    ans: "forEach()",
                    correct: true
                },
                {
                    ans: "None of the above",
                    correct: false
                }
        ]
    },
    {
        question : "Which of the following function of String object combines the text of two strings and returns a new string?",
        option : [
                {
                    ans: "add()",
                    correct: false
                },
                {
                    ans: "merge()",
                    correct: false
                },
                {
                    ans: "concat()",
                    correct: true
                },
                {
                    ans: "append()",
                    correct: false
                }
        ]
    },
    {
        question : "Java Script File Has An Extension Of",
        
        option : [
                {
                    ans: ".java",
                    correct: false
                },
                {
                    ans: ".js",
                    correct: true
                },
                {
                    ans: ".javascript",
                    correct: false
                },
                {
                    ans: ".xml",
                    correct: false
                }
        ]
    },
    {
        question : "IsNaN() Evalutes And Argument To Determine if Given Value",
        option : [
                {
                    ans: "Is Not a Null",
                    correct: false
                },
                {
                    ans: "Is Not a Number",
                    correct: true
                },
                {
                    ans: "Is Not a New Object",
                    correct: false
                },
                {
                    ans: "None of the above",
                    correct: false
                }
        ]
    },
    {
        question : "Which Of The Dialog Box Display a Message And a Data Entry Field?",
        option : [
                {
                    ans: "alert()",
                    correct: false
                },
                {
                    ans: "prompt()",
                    correct: true
                },
                {
                    ans: "confirm()",
                    correct: false
                },
                {
                    ans: "msg()",
                    correct: false
                }
        ]
    },
    {
        question : "GetMonth() returns The Month as",
        option : [
                {
                    ans: "int",
                    correct: true
                },
                {
                    ans: "float",
                    correct: false
                },
                {
                    ans: "char",
                    correct: false
                },
                {
                    ans: "string",
                    correct: false
                }
        ]
    },
    {
        question : "A Function Associated With An object is Called",
        option : [
                {
                    ans: "Function",
                    correct: false
                },
                {
                    ans: "Method",
                    correct: true
                },
                {
                    ans: "Link",
                    correct: false
                },
                {
                    ans: "None of the above",
                    correct: false
                }
        ]
    },
    {
        question : "How can we declare variable in javascript?",
        option : [
                {
                    ans: "dataType",
                    correct: false
                },
                {
                    ans: "var",
                    correct: true
                },
                {
                    ans: "int",
                    correct: false
                },
                {
                    ans: "float",
                    correct: false
                }
        ]
    },
    {
        question : "What is the use of document.getElementById('...').value in javascript",
        option : [
                {
                    ans: "To take value from any form tool",
                    correct: true
                },
                {
                    ans: "To take value from only textbox",
                    correct: false
                },
                {
                    ans: "To input some value in javascript",
                    correct: false
                },
                {
                    ans: "None of the above",
                    correct: false
                }
        ]
    },
    {
        question : "Which of the following is the correct way of returning the length of this string?",
        option : [
                {
                    ans: "Server-side image maps",
                    correct: false
                },
                {
                    ans: "Client-side image maps",
                    correct: true
                },
                {
                    ans: "Server-side and Client-side image maps",
                    correct: false
                },
                {
                    ans: "None of the above",
                    correct: false
                }
        ]
    }
    
];

var question = document.getElementById("question");
var options = (document.getElementById("quiz")).getElementsByTagName("span");
var next = document.getElementById("next");

var randomQuiz = [];

window.onload = function() {
    
    // Generate an array of numbers equal to quize questions
        var quizCount = [];
        for(var i = 0; i<quiz.length; i++) {
            quizCount.push(i);
        }
        
        // Generate the random quiz selection array
        var quizLength = quizCount.length;
        for(var j=0; j<quizLength; j++) {
            randomQuiz.push((quizCount.splice(Math.floor(Math.random() * quizCount.length), 1))[0]);
        }
        
        
        startTimer();
        nextQuiz();
    
}

var counter = 0;

/********* Next Quiz Generator ***********/
function nextQuiz() {
    if(counter < quiz.length) {
        question.innerHTML = quiz[randomQuiz[counter]].question;
        
        for(var i = 0; i<options.length; i++) {
            options[i].innerHTML = '<input type="radio" class="option" name="option">' + (quiz[randomQuiz[counter]].option[i].ans);
        }
    }
    else {
        prepareResult();
    }
}

next.addEventListener("click", function(){
    for(var i = 0; i<options.length; i++) {
        if(options[i].childNodes[0].checked) {
            addScore();
            counter++;
            nextQuiz();
            break;
        }
    }
});

/*********** TIMRE ************/
var time = document.getElementById("time");
var second = 0, minute = 20;
function timer() {
    if(second == 0) {
        second = 59
        minute--;
    }
    else {
        second--;
    }

    time.innerHTML = ((minute > 9 ? minute : "0" + minute) + ":" + (second > 9 ? second : "0" + second));

    if(minute === 0 && second === 0){
        prepareResult();
    }
}

function startTimer() {
    setInterval(timer, 1000);
}

/******* Score calculation *******/
var score = 0;
function addScore() {
    for(var i = 0; i<options.length; i++) {
        if(options[i].childNodes[0].checked) {
            if(quiz[randomQuiz[counter]].option[i].correct) { 
                score += (100 / quiz.length);
            }
            break;
        }
    }
}

function prepareResult() {
    localStorage.setItem('score', score);
    window.location = './result.html';
}